<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
    <div class="breadcrumb-title pe-3">New Booking</div>
    <div class="ps-3">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0 p-0">
                <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
                </li>

            </ol>
        </nav>
    </div>
    <div class="ms-auto">
        <div class="btn-group">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleLargeModal">
            Add Booking</button>


        </div>
    </div>
</div>
<!--modal-->
<div class="modal fade" id="exampleLargeModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
<!--form strt-->
<form [formGroup]="GetnewBooking" (ngSubmit)="getBooking(GetnewBooking.value)">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add Booking</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body formStyle" >
                <!-- <form [formGroup]="GetnewBooking" (ngSubmit)="getBooking(GetnewBooking.value)"> -->
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" formControlName="name"
                            placeholder="Enter your name " />
                            <div *ngIf="GetnewBooking.get('name')?.hasError('required') && GetnewBooking.get('name')?.touched" 
                            class="text-danger">
                                 Name is required.
                              </div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Email</label>
                        <input type="text" class="form-control" formControlName="email_id"
                            placeholder="Enter your mail id " />
                            <div *ngIf="GetnewBooking.get('email_id')?.hasError('required') && GetnewBooking.get('email_id')?.touched" 
                            class="text-danger">
                                 Email is required.
                              </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Contact No</label>
                        <input type="text" class="form-control" formControlName="mobile_number"
                            placeholder="Enter your contact number" />
                            <div *ngIf="GetnewBooking.get('mobile_number')?.hasError('required') && GetnewBooking.get('mobile_number')?.touched" 
                            class="text-danger">
                                 Phone number is required.
                              </div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Event Date</label>
                        <input type="date" class="form-control" formControlName="eventDate"
                            placeholder="Enter your event date " />
                            <div *ngIf="GetnewBooking.get('eventDate')?.hasError('required') && GetnewBooking.get('eventDate')?.touched" 
                            class="text-danger">
                                 Event Date is required.
                              </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Event Starting Time</label>
                        <input type="time" class="form-control" formControlName="event_starting_time"
                            placeholder="Enter your event starting time " />
                            <div *ngIf="GetnewBooking.get('event_starting_time')?.hasError('required') && GetnewBooking.get('event_starting_time')?.touched" 
                            class="text-danger">
                                 Event Starting time is required.
                              </div>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Event Finish Time</label>
                        <input type="time" class="form-control" formControlName="event_finish_time"
                            placeholder="Enter your event finish time " />
                            <div *ngIf="GetnewBooking.get('event_finish_time')?.hasError('required') && GetnewBooking.get('event_finish_time')?.touched" 
                            class="text-danger">
                                 Event Finish time is required.
                              </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <label for="inputAddress" class="form-label">Venue Address</label>
                    <textarea class="form-control" id="inputAddress" formControlName="address" 
                    placeholder="Enter your venue address here" rows="1"></textarea>
                    <div *ngIf="GetnewBooking.get('address')?.hasError('required') && GetnewBooking.get('address')?.touched" 
                            class="text-danger">
                                 Event address is required.
                              </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Event Type</label>
                        <br>
                        <!-- <input type="text" class="form-control" formControlName="event_starting_time"
                            placeholder="Enter your name " /> -->
                            <select  class="single-select" #dropdown (onchange)="getDropdown(dropdown.value)"
                            formControlName="type_of_event">
                                <option  *ngFor="let option of dropdownData" [value]="option.event_name">
                                    {{ option.event_name }}
                                </option>
                            </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Service</label>
                        <br>
                        <!-- <input type="text" class="form-control" formControlName="event_finish_time"
                            placeholder="Enter your mail id " /> -->
                            <select  class="single-select" #dropdown (onchange)="getServicedrop(dropdown.value)"
                            formControlName="event_service_id" >
                                <option *ngFor="let option1 of servicedata" [value]="option1.id">
                                    {{ option1.service_name }}
                                </option>
                            </select>
                    </div>
                </div>
                <div class="row">
                   <div class="col-md-12">
                    <label for="inputAddress" class="form-label">Status</label>
                    <textarea class="form-control" id="inputAddress" formControlName="status" 
                    rows="1"></textarea>
                   </div>
                </div>
                <div class="row">
                   <div class="col-md-12">
                    <label for="inputAddress" class="form-label">Additional Information</label>
                    <textarea class="form-control" id="inputAddress" formControlName="additional_information" 
                    placeholder="Description..." rows="1"></textarea>
                   </div>
                </div>
                <!-- </form> -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Add Service</button>
            </div>

        </div>
    </form>
<!--form end-->
    </div>
</div>
<!--end -->
<!--table-->
<div class="card radius-10">
    <div class="card-body">
        <div class="d-flex align-items-center">
            <div>
                <h6 class="mb-0">Service</h6>
            </div>
            <div class="search-bar flex-grow-1">
                <div class="position-relative search-bar-box">
                    <input type="text" class="form-control search-control" 
                        placeholder="Search...">

                </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table align-middle mb-0">
                <thead class="table-light">
                    <tr>
                        <th >Booking ID</th>
                        <th >Customer Name</th>
                        <th >Mobile Number</th>
                        <th >Email</th>
                        <th >Booking Date</th>
                        <th >Status</th>
                        <th >Action</th>


                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let evnt of  newBookingtable | paginate:{
                        itemsPerPage:tableSize,currentPage:page,totalItems:count};">
                        <td>{{evnt.event_service_id}}</td>
                          <td>{{evnt.name}}</td>
                          <td>{{evnt. mobile_number}}</td>
                           <td>{{evnt.email_id}}</td>
                           
                            <td>{{evnt.created_at | date}} </td>
                          <!-- <td>{{evnt.status==0?'Pending':'Approved'}}</td> -->
                          <td>{{evnt.status==0?'Pending':evnt.status==1?'Approved':'Cancelled'}}</td>
                          <td>
                            <i class="fadeIn animated bx bx-pencil"  style="margin-right: 10px;"
                            data-bs-toggle="modal" data-bs-target="#exampleLargeModal1"
                            (click)="getEdited(evnt.id)"></i>
                            
                          </td>
                    </tr>

                   





                </tbody>
            </table>
            <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">

            </pagination-controls>
        </div>
    </div>
</div>
<!--end table-->
<!--second modal-->
<!--modal-->
<div class="modal fade" id="exampleLargeModal1" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
<!--form strt-->
<form [formGroup]="EditBooking" (ngSubmit)="getBookingEdit(EditBooking.value)">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update Booking</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body formStyle" >
                <!-- <form [formGroup]="GetnewBooking" (ngSubmit)="getBooking(GetnewBooking.value)"> -->
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" formControlName="name"
                            placeholder="Enter your name " />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Email</label>
                        <input type="text" class="form-control" formControlName="email_id"
                            placeholder="Enter your mail id " />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Contact No</label>
                        <input type="text" class="form-control" formControlName="mobile_number"
                            placeholder="Enter your name " />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Event Date</label>
                        <input type="date" class="form-control" formControlName="eventDate"
                            placeholder="Enter your mail id " />
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Event Starting Time</label>
                        <input type="time" class="form-control" formControlName="event_starting_time"
                            placeholder="Enter your name " />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Event Finish Time</label>
                        <input type="time" class="form-control" formControlName="event_finish_time"
                            placeholder="Enter your mail id " />
                    </div>
                </div>
                <div class="row">
                    <label for="inputAddress" class="form-label">Venue Address</label>
                    <textarea class="form-control" id="inputAddress" formControlName="address" 
                    placeholder="Description..." rows="1"></textarea>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label">Event Type</label>
                        <input type="text" class="form-control" formControlName="event_starting_time"
                            placeholder="Enter your name " />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Service</label>
                        <input type="text" class="form-control" formControlName="event_finish_time"
                            placeholder="Enter your mail id " />
                    </div>
                </div>
                <div class="row">
                    <label for="inputAddress" class="form-label">Status</label>
                    <textarea class="form-control" id="inputAddress" formControlName="status" 
                    placeholder="Description..." rows="1"></textarea>
                </div>
                <div class="row">
                    <label for="inputAddress" class="form-label">Additional Information</label>
                    <textarea class="form-control" id="inputAddress" formControlName="additional_information" 
                    placeholder="Description..." rows="1"></textarea>
                </div>
                <!-- </form> -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Update Booking</button>
            </div>

        </div>
    </form>
<!--form end-->
    </div>
</div>
<!--end -->
